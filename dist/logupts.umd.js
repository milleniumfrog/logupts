!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).logupts={})}(this,function(e){"use strict";function t(e,n,r){var o=!0,i=!1,s=void 0;try{for(var u,l=function(){var o=u.value;if(void 0===o.keys[1])n=!0!==o.called?function(e,t,n,r,o){r=r||"g";for(var i=new RegExp(e,r),s=0;null!==i.exec(t.slice(s));)e=e.replace(new RegExp("\\\\","g"),""),t=t.replace(e,"function"==typeof n?n("",o):n),++s;return t}(o.keys[0],n,function(e,t){return o.replacer("",t)},o.flags,r):n;else{var i=-1,s=!0,l=!1,c=void 0;try{for(var a,f=e[Symbol.iterator]();!(s=(a=f.next()).done);s=!0){var p=a.value,g=new RegExp(p.keys[0],p.flags).exec(n);null!==g&&(i=i<g.index?g.index:i)}}catch(e){l=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}i>0&&(n=n.slice(0,i)+t(e,n.slice(i)));var h=new RegExp(o.keys[0],o.flags),y=h.exec(n);if(null!==y){var v=(h=new RegExp(o.keys[1],o.flags)).exec(n),d=[o.keys[0].replace(new RegExp("\\\\","g"),""),o.keys[1].replace(new RegExp("\\\\","g"),"")];null!==v&&(n=n.slice(0,y.index)+o.replacer(n.slice(y.index+d[0].length,v.index),r)+n.slice(v.index+d[1].length))}}},c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)l()}catch(e){i=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}return n}var n=[{keys:["{{date}}"],replacer:function(){return""+r(2,String((new Date).getDate()))},flags:"g"},{keys:["{{day}}"],replacer:function(){return""+r(2,String((new Date).getDay()))},flags:"g"},{keys:["{{month}}"],replacer:function(){return""+r(2,String((new Date).getMonth()+1))},flags:"g"},{keys:["{{year}}"],replacer:function(){return""+(new Date).getFullYear()},flags:"g"},{keys:["{{hours}}"],replacer:function(){return""+r(2,String((new Date).getHours()))},flags:"g"},{keys:["{{minutes}}"],replacer:function(){return""+r(2,String((new Date).getMinutes()))},flags:"g"},{keys:["{{seconds}}"],replacer:function(){return""+r(2,String((new Date).getSeconds()))},flags:"g"},{keys:["{{service}}"],replacer:function(e,t){return"["+(t.service||"DEFAULT")+"]"},flags:"g"}];function r(e,t){if(e<t.length)throw new Error("the message is longer than the wished length.");for(var n=t.length;n<e;++n)t="0"+t;return t}var o,i=(!0).__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,u)}l((r=r.apply(e,t||[])).next())})},s=(!0).__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};(o=e.LOGLEVEL||(e.LOGLEVEL={}))[o.TRACE=0]="TRACE",o[o.DEBUG=1]="DEBUG",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.OFF=5]="OFF";var u={prefix:"{{service}} ",postfix:"",placeholders:n,quiet:!1,transports:[],customFunctions:[],logType:"log",logStack:!0,logLevel:e.LOGLEVEL.INFO},l=function(){function n(e,t){t=t||{},e=e||{},this.options=this.mergeOptions(e,u),this.internals={service:"log"},Object.assign(this.internals,t)}return n.prototype.mergeOptions=function(t,n){return n=n||this.options,t.quiet&&(t.logLevel=e.LOGLEVEL.OFF),Object.assign({},n,t)},n.prototype.custom=function(n,r,o,u){return void 0===u&&(u=e.LOGLEVEL.INFO),i(this,void 0,void 0,function(){var e,i,l,c,a,f,p,g,h,y;return s(this,function(s){switch(s.label){case 0:for(i in e=this.mergeOptions(n),r)this.internals[i]=r[i];for(l=""+e.prefix+o+e.postfix,l=t(this.options.placeholders||[],l,this.internals),(e.logLevel||0)<=u&&void 0!==console[e.logType||"log"]&&console[e.logType||"log"](l),c=[],a=0,f=e.transports||[];a<f.length;a++)p=f[a],c.push(p.exec(this.internals,l,o));for(g=0,h=e.customFunctions||[];g<h.length;g++)y=h[g],c.push(y(l,this.internals,e));return[4,Promise.all(c)];case 1:return s.sent(),[2,l]}})})},n.prototype.log=function(t,n){return i(this,void 0,void 0,function(){return s(this,function(r){return[2,this.custom(n||{},{service:"LOG"},t,e.LOGLEVEL.INFO)]})})},n.prototype.error=function(t,n){return i(this,void 0,void 0,function(){var r,o;return s(this,function(i){return(r=this.mergeOptions(n||{})).logType="error",o=t instanceof Error?t.message+(r.logStack&&void 0!==t.stack?"\n"+t.stack:""):t,[2,this.custom(r,{service:"ERROR"},o,e.LOGLEVEL.ERROR)]})})},n.prototype.warn=function(t,n){return i(this,void 0,void 0,function(){var r;return s(this,function(o){return(r=this.mergeOptions(n||{})).logType="warn",[2,this.custom(r,{service:"WARN"},t,e.LOGLEVEL.WARN)]})})},n.prototype.trace=function(t,n){return i(this,void 0,void 0,function(){var r;return s(this,function(o){return(r=this.mergeOptions(n||{})).logType="trace",[2,this.custom(r,{service:"TRACE"},t,e.LOGLEVEL.TRACE)]})})},n.prototype.debug=function(t,n){return i(this,void 0,void 0,function(){var r;return s(this,function(o){return(r=this.mergeOptions(n||{})).logType="debug",[2,this.custom(r,{service:"DEBUG"},t,e.LOGLEVEL.DEBUG)]})})},n.prototype.info=function(t,n){return i(this,void 0,void 0,function(){return s(this,function(r){return[2,this.custom(n||{},{service:"INFO"},t,e.LOGLEVEL.INFO)]})})},n}();e.DefaultPlaceholders=n,e.LogUpTs=l,e.defaultOptions=u,e.replacePlaceholder=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=logupts.umd.js.map
